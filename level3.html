<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Level 3 — Quantum Cryptography (Choose)</title>
    <link rel="stylesheet" href="style.css">
    <style>
      /* Add background image styling */
      body {
        position: relative;
        background-image: url('media/game3.jpeg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-repeat: no-repeat;
        overflow-x: hidden;
      }
      
      /* Add overlay to improve text readability */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(10, 15, 30, 0.88);
        z-index: -1;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Quantum Cryptography</h1>
      <p><em>Cryptography of the future</em></p>
      <nav>
        <a href="index.html">Home</a>
        <a href="game.html">Game</a>
        <a href="materials.html">Materials</a>
      </nav>
    </header>

    <main class="page">
      <section class="card" style="text-align:center;">
        <h2>Level 3 — Choose a Scenario</h2>
        <p style="color:#dbe7ff; max-width:760px; margin:0.6rem auto;">Level 3 has been split into two parts. Choose the stage you want to play:</p>

        <div style="display:flex; gap:1rem; justify-content:center; flex-wrap:wrap; margin-top:1.2rem;">
          <a class="btn" href="level3.1.html">3.1 — First Eavesdropping Attempt</a>
          <a class="btn btn-outline" href="level3.2.html">3.2 — With Inside Information</a>
        </div>

        <p style="text-align:center; margin-top:0.8rem; color:#cfdcff;">If you haven't read the Level 3 materials yet, open the Levels menu and choose <strong>Level 3 — QKD Materials</strong> (or visit the Materials tab).</p>

        <p style="margin-top:1.2rem; color:#cfdcff;">If a page redirected you here, pick the part you intended to play. You can always return to the Levels menu.</p>

        <div style="margin-top:1.4rem;"><a class="btn" href="levels.html">Back to Levels</a></div>
      </section>
    </main>

    <footer>
      CCST9077 | Members:
    </footer>

    <!-- Levels slide-out tab -->
    <div id="levels-tab" title="Open levels">Levels</div>
    <aside id="levels-sidebar" aria-hidden="true">
      <button id="levels-close" class="btn btn-outline">Close</button>
      <h3>Levels</h3>
      <ul class="levels-list">
        <li><a href="game.html">Level 1 — Caesar's Cipher</a></li>
        <li><a href="level2.html">Level 2 — Modern Crypto (MCQ)</a></li>
        <li><a href="level3_materials.html">Level 3 — QKD Materials</a></li>
      </ul>
    </aside>

    <script>
      (function(){
        const tab = document.getElementById('levels-tab');
        const sidebar = document.getElementById('levels-sidebar');
        const closeBtn = document.getElementById('levels-close');
        if(tab && sidebar){
          tab.addEventListener('click', ()=>{ sidebar.classList.add('open'); sidebar.setAttribute('aria-hidden','false'); });
          closeBtn.addEventListener('click', ()=>{ sidebar.classList.remove('open'); sidebar.setAttribute('aria-hidden','true'); });
          document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ sidebar.classList.remove('open'); sidebar.setAttribute('aria-hidden','true'); } });
        }
      })();
    </script>

    <!-- PARALLAX EFFECT SCRIPT -->
    <script>
      (function(){
        const body = document.body;
        if(!body) return;
        
        // Set initial background position to 0
        body.style.backgroundPositionY = '0px';
        
        let ticking = false;
        
        function updateParallax() {
          const scrolled = window.pageYOffset;
          const parallaxSpeed = -0.05;
          
          body.style.backgroundPositionY = `${scrolled * parallaxSpeed}px`;
          
          ticking = false;
        }
        
        function requestTick() {
          if (!ticking) {
            window.requestAnimationFrame(updateParallax);
            ticking = true;
          }
        }
        
        window.addEventListener('scroll', requestTick, { passive: true });
      })();
    </script>
    <!-- END PARALLAX EFFECT SCRIPT -->
  </body>
</html>
